<div class="flex justify-between">
  <button (click)="back()" @zoomIn @zoomOut class="!bg-blue-400/50" mat-icon-button>
    <mat-icon [svgIcon]="'back'"/>
  </button>

  <mat-form-field *ngIf="soloPlayer" @zoomIn @zoomOut [hintLabel]="'level' | translate" class="w-40">
    <mat-select [(value)]="difficulty">
      <mat-option *ngFor="let option of levels" [value]="option">
        {{ option | translate }}
      </mat-option>
    </mat-select>
  </mat-form-field>
</div>

<div class="flex justify-between mt-4 font-semibold">
  <div @zoomIn @zoomOut class="w-[35%] my-3 mx-auto p-3 !bg-blue-400/50 rounded-lg border-2 border-blue-600">
    <mat-icon [svgIcon]="'x'"/>
    <div class="flex justify-between">
      <span>{{ 'you' | translate }}:</span>
      <span>{{ xPlayer }}</span>
    </div>
  </div>
  <div @zoomIn @zoomOut class="w-[35%] my-3 mx-auto p-3 !bg-blue-400/50 rounded-lg border-2 border-blue-600">
    <mat-icon [svgIcon]="'o'"/>
    <div class="flex justify-between">
      <span>{{ soloPlayer ? ('bot' | translate) : ('friend' | translate) }}:</span>
      <span>{{ oPlayer }}</span>
    </div>
  </div>
</div>

<div @zoomIn @zoomOut>
  <div [class.!h-0]="!isChoosing" class="h-[312px] transition-all duration-300 overflow-hidden">
    <div
      class="!bg-blue-400/50 grid grid-cols-3 gap-2 grid-rows-3 sm:w-72 sm:h-72 w-60 h-60 my-6 p-2 mx-auto rounded-lg">
      <ng-container *ngFor="let row of board; let rowIdx = index;">
        <div *ngFor="let cell of row; let colIdx = index;">
          <mat-icon
            (click)="click(rowIdx, colIdx)"
            [style.border]="(winner && lighted[rowIdx][colIdx]) ? ('4px solid ' + (winner === 'x' ? 'green' : 'red')) : ''"
            [style.cursor]="(cell === '' || botTurn) ? 'pointer' : 'not-allowed'"
            [svgIcon]="cell"
            class="p-4 !bg-blue-500/80 !size-full rounded-lg"/>
        </div>
      </ng-container>
    </div>
  </div>

  <div [class.!h-0]="isChoosing" class="h-[312px] transition-all duration-300 overflow-hidden">
    <div
      class="!bg-blue-400/50 sm:w-72 sm:h-72 w-60 h-60 my-6 p-2 mx-auto rounded-lg flex flex-col justify-between text-center">
      <mat-icon [svgIcon]="firstPlayer" class="!size-40 m-auto"/>
    </div>
  </div>
</div>

<div class="flex justify-between flex-col mt-16">
  <button (click)="reset()" @zoomIn
          @zoomOut
          class="w-60 my-3 mx-auto p-3 bg-blue-900 rounded-lg text-lg text-center text-blue border-solid border-b-4 border-blue-400/50">
    {{ 'reset' | translate }}
  </button>
</div>
